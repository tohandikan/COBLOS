<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FoodOrder - Pesan Makanan Online</title>
    <style>
        body {
            box-sizing: border-box;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: inherit;
        }

        :root {
            --primary: #ff6b35;
            --primary-dark: #e55a2b;
            --secondary: #2c3e50;
            --accent: #f39c12;
            --success: #27ae60;
            --danger: #e74c3c;
            --light: #ecf0f1;
            --dark: #2c3e50;
            --shadow: 0 4px 6px rgba(0,0,0,0.1);
            --shadow-lg: 0 10px 25px rgba(0,0,0,0.15);
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: var(--dark);
            background: #f8f9fa;
        }

        /* Header */
        .header {
            background: white;
            box-shadow: var(--shadow);
            position: fixed;
            top: 0;
            width: 100%;
            z-index: 1000;
            transition: all 0.3s ease;
        }

        .nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1rem 2rem;
            max-width: 1200px;
            margin: 0 auto;
        }

        .logo {
            font-size: 1.8rem;
            font-weight: bold;
            color: var(--primary);
            text-decoration: none;
        }

        .nav-links {
            display: flex;
            list-style: none;
            gap: 2rem;
        }

        .nav-links a {
            text-decoration: none;
            color: var(--dark);
            font-weight: 500;
            transition: color 0.3s ease;
            position: relative;
        }

        .nav-links a:hover,
        .nav-links a.active {
            color: var(--primary);
        }

        .nav-links a.active::after {
            content: '';
            position: absolute;
            bottom: -5px;
            left: 0;
            width: 100%;
            height: 2px;
            background: var(--primary);
        }

        .cart-icon {
            position: relative;
            background: var(--primary);
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 25px;
            text-decoration: none;
            transition: all 0.3s ease;
        }

        .cart-icon:hover {
            background: var(--primary-dark);
            transform: translateY(-2px);
        }

        .cart-count {
            position: absolute;
            top: -8px;
            right: -8px;
            background: var(--danger);
            color: white;
            border-radius: 50%;
            width: 20px;
            height: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.8rem;
            font-weight: bold;
        }

        /* Main Content */
        .main {
            margin-top: 80px;
            min-height: calc(100vh - 80px);
            padding-bottom: 4rem;
        }

        .page {
            display: none;
            animation: fadeIn 0.5s ease;
            padding-bottom: 4rem;
        }

        .page.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Container */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem;
            padding-bottom: 4rem;
        }

        /* Cart */
        .cart-item {
            background: white;
            border-radius: 10px;
            padding: 1.5rem;
            margin-bottom: 1rem;
            box-shadow: var(--shadow);
            display: flex;
            gap: 1rem;
            align-items: center;
        }

        .cart-item img {
            width: 80px;
            height: 80px;
            object-fit: cover;
            border-radius: 8px;
        }

        .cart-item-info {
            flex: 1;
        }

        .cart-item h3 {
            margin-bottom: 0.5rem;
            color: var(--dark);
        }

        .cart-item-variants {
            font-size: 0.9rem;
            color: #666;
            margin-bottom: 0.5rem;
        }

        .cart-item-controls {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .quantity-btn {
            width: 40px;
            height: 40px;
            border: 2px solid var(--primary);
            background: white;
            color: var(--primary);
            border-radius: 50%;
            cursor: pointer;
            font-size: 1.2rem;
            font-weight: bold;
            transition: all 0.3s ease;
        }

        .quantity-btn:hover {
            background: var(--primary);
            color: white;
        }

        .quantity-display {
            font-size: 1.2rem;
            font-weight: bold;
            min-width: 30px;
            text-align: center;
        }

        .remove-btn {
            background: var(--danger);
            color: white;
            border: none;
            padding: 0.5rem;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .remove-btn:hover {
            background: #c0392b;
        }

        .cart-summary {
            background: white;
            border-radius: 10px;
            padding: 2rem;
            box-shadow: var(--shadow);
            position: sticky;
            top: 100px;
            margin-bottom: 4rem;
        }

        .summary-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 1rem;
            padding-bottom: 0.5rem;
        }

        .summary-row.total {
            border-top: 2px solid var(--light);
            padding-top: 1rem;
            font-weight: bold;
            font-size: 1.2rem;
            color: var(--primary);
        }

        /* Empty State */
        .empty-state {
            text-align: center;
            padding: 4rem 2rem;
            color: #666;
        }

        .empty-state h3 {
            font-size: 1.5rem;
            margin-bottom: 1rem;
            color: var(--dark);
        }

        /* Button */
        .btn {
            display: inline-block;
            padding: 1rem 2rem;
            background: var(--primary);
            color: white;
            text-decoration: none;
            border-radius: 25px;
            font-weight: 600;
            transition: all 0.3s ease;
            border: none;
            cursor: pointer;
            font-size: 1rem;
        }

        .btn:hover {
            background: var(--primary-dark);
            transform: translateY(-2px);
            box-shadow: var(--shadow-lg);
        }

        /* Price */
        .price {
            font-size: 1.2rem;
            font-weight: bold;
            color: var(--primary);
        }

        /* Checkout Form */
        .checkout-form {
            background: white;
            border-radius: 10px;
            padding: 2rem;
            box-shadow: var(--shadow);
            margin-bottom: 4rem;
            padding-bottom: 3rem;
        }

        .form-group {
            margin-bottom: 1.5rem;
        }

        .form-group label {
            display: block;
            font-weight: 600;
            margin-bottom: 0.5rem;
            color: var(--dark);
        }

        .form-group input,
        .form-group select,
        .form-group textarea {
            width: 100%;
            padding: 0.75rem;
            border: 2px solid var(--light);
            border-radius: 8px;
            font-size: 1rem;
            transition: border-color 0.3s ease;
        }

        .form-group input:focus,
        .form-group select:focus,
        .form-group textarea:focus {
            outline: none;
            border-color: var(--primary);
        }

        .form-group textarea {
            resize: vertical;
            min-height: 100px;
        }

        .payment-methods {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin-top: 1rem;
        }

        .payment-method {
            border: 2px solid var(--light);
            border-radius: 8px;
            padding: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
        }

        .payment-method:hover,
        .payment-method.selected {
            border-color: var(--primary);
            background: rgba(255, 107, 53, 0.1);
        }

        .payment-method input {
            display: none;
        }

        /* Loading & Notifications */
        .loading {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            z-index: 9999;
            align-items: center;
            justify-content: center;
        }

        .loading.show {
            display: flex;
        }

        .spinner {
            width: 50px;
            height: 50px;
            border: 5px solid rgba(255,255,255,0.3);
            border-top: 5px solid white;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .notification {
            position: fixed;
            top: 100px;
            right: 20px;
            padding: 1rem 2rem;
            border-radius: 8px;
            color: white;
            font-weight: 600;
            z-index: 1001;
            transform: translateX(400px);
            transition: transform 0.3s ease;
            max-width: 300px;
        }

        .notification.show {
            transform: translateX(0);
        }

        .notification.success {
            background: var(--success);
        }

        .notification.error {
            background: var(--danger);
        }

        /* Responsive */
        @media (max-width: 768px) {
            .nav {
                padding: 1rem;
            }

            .nav-links {
                display: none;
            }

            .container {
                padding: 1rem;
                padding-bottom: 4rem;
            }

            .main {
                padding-bottom: 6rem;
            }

            .page {
                padding-bottom: 6rem;
            }

            .cart-item {
                flex-direction: column;
                text-align: center;
            }

            .cart-item-controls {
                justify-content: center;
            }

            .payment-methods {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header class="header">
        <nav class="nav">
            <a href="#" class="logo" onclick="showPage('home')">üçï FoodOrder</a>
            <ul class="nav-links">
                <li><a href="#" onclick="showPage('home')" class="nav-link active">Beranda</a></li>
                <li><a href="#" onclick="showPage('menu')" class="nav-link">Menu</a></li>
                <li><a href="#" onclick="showPage('about')" class="nav-link">Tentang</a></li>
                <li><a href="#" onclick="showPage('dashboard')" class="nav-link">Dashboard</a></li>
                <li><a href="#" onclick="showPage('cart')" class="nav-link">Keranjang</a></li>
            </ul>
            <a href="#" class="cart-icon" onclick="showPage('cart')">
                üõí Keranjang
                <span class="cart-count" id="cartCount">0</span>
            </a>
        </nav>
    </header>

    <!-- Main Content -->
    <main class="main">
        <!-- Home Page -->
        <div id="home" class="page active">
            <div class="container">
                <!-- Hero Section -->
                <div style="background: linear-gradient(135deg, var(--primary), var(--primary-dark)); color: white; padding: 4rem 2rem; border-radius: 20px; text-align: center; margin-bottom: 3rem;">
                    <h1 style="font-size: 3rem; margin-bottom: 1rem; text-shadow: 2px 2px 4px rgba(0,0,0,0.3);">üçï Selamat Datang di FoodOrder!</h1>
                    <p style="font-size: 1.3rem; margin-bottom: 2rem; opacity: 0.9;">Pesan makanan favorit Anda dengan mudah dan cepat. Lebih dari 1000+ pelanggan puas!</p>
                    <div style="display: flex; gap: 1rem; justify-content: center; flex-wrap: wrap;">
                        <button class="btn" onclick="showPage('menu')" style="background: white; color: var(--primary); font-weight: bold;">üõí Pesan Sekarang</button>
                        <button class="btn" onclick="showPage('about')" style="background: transparent; border: 2px solid white;">üìñ Pelajari Lebih Lanjut</button>
                    </div>
                </div>

                <!-- Stats Section -->
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 2rem; margin-bottom: 3rem;">
                    <div style="background: white; padding: 2rem; border-radius: 15px; box-shadow: var(--shadow); text-align: center;">
                        <div style="font-size: 2.5rem; color: var(--primary); font-weight: bold;">1000+</div>
                        <p style="color: #666; margin-top: 0.5rem;">Pelanggan Puas</p>
                    </div>
                    <div style="background: white; padding: 2rem; border-radius: 15px; box-shadow: var(--shadow); text-align: center;">
                        <div style="font-size: 2.5rem; color: var(--success); font-weight: bold;">28</div>
                        <p style="color: #666; margin-top: 0.5rem;">Menu Pilihan</p>
                    </div>
                    <div style="background: white; padding: 2rem; border-radius: 15px; box-shadow: var(--shadow); text-align: center;">
                        <div style="font-size: 2.5rem; color: var(--accent); font-weight: bold;">30</div>
                        <p style="color: #666; margin-top: 0.5rem;">Menit Pengiriman</p>
                    </div>
                    <div style="background: white; padding: 2rem; border-radius: 15px; box-shadow: var(--shadow); text-align: center;">
                        <div style="font-size: 2.5rem; color: var(--danger); font-weight: bold;">4.8</div>
                        <p style="color: #666; margin-top: 0.5rem;">Rating Bintang</p>
                    </div>
                </div>
                
                <!-- Features Section -->
                <h2 style="text-align: center; margin-bottom: 2rem; font-size: 2rem;">Mengapa Memilih FoodOrder?</h2>
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 2rem; margin-bottom: 3rem;">
                    <div style="background: white; padding: 2rem; border-radius: 15px; box-shadow: var(--shadow); text-align: center; transition: transform 0.3s ease;" onmouseover="this.style.transform='translateY(-5px)'" onmouseout="this.style.transform='translateY(0)'">
                        <div style="font-size: 3rem; margin-bottom: 1rem;">üçï</div>
                        <h3 style="color: var(--dark); margin-bottom: 1rem;">Menu Beragam</h3>
                        <p style="color: #666; margin-bottom: 1.5rem;">Pizza, burger, pasta, salad, dan dessert dengan kualitas premium</p>
                        <button class="btn" onclick="showPage('menu')" style="padding: 0.5rem 1.5rem; font-size: 0.9rem;">Lihat Menu</button>
                    </div>
                    
                    <div style="background: white; padding: 2rem; border-radius: 15px; box-shadow: var(--shadow); text-align: center; transition: transform 0.3s ease;" onmouseover="this.style.transform='translateY(-5px)'" onmouseout="this.style.transform='translateY(0)'">
                        <div style="font-size: 3rem; margin-bottom: 1rem;">üöö</div>
                        <h3 style="color: var(--dark); margin-bottom: 1rem;">Pengiriman Cepat</h3>
                        <p style="color: #666; margin-bottom: 1.5rem;">Diantar langsung ke rumah Anda dalam waktu maksimal 30 menit</p>
                        <button class="btn" onclick="showPage('menu')" style="padding: 0.5rem 1.5rem; font-size: 0.9rem;">Pesan Sekarang</button>
                    </div>
                    
                    <div style="background: white; padding: 2rem; border-radius: 15px; box-shadow: var(--shadow); text-align: center; transition: transform 0.3s ease;" onmouseover="this.style.transform='translateY(-5px)'" onmouseout="this.style.transform='translateY(0)'">
                        <div style="font-size: 3rem; margin-bottom: 1rem;">üí≥</div>
                        <h3 style="color: var(--dark); margin-bottom: 1rem;">Pembayaran Mudah</h3>
                        <p style="color: #666; margin-bottom: 1.5rem;">COD, transfer bank, atau e-wallet. Pilih sesuai keinginan Anda</p>
                        <button class="btn" onclick="showPage('checkout')" style="padding: 0.5rem 1.5rem; font-size: 0.9rem;">Info Pembayaran</button>
                    </div>
                </div>

                <!-- Popular Items Section -->
                <h2 style="text-align: center; margin-bottom: 2rem; font-size: 2rem;">Menu Populer</h2>
                <div id="popularItems" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 1.5rem; margin-bottom: 3rem;">
                    <!-- Popular items will be populated by JavaScript -->
                </div>

                <!-- Testimonials Section -->
                <h2 style="text-align: center; margin-bottom: 2rem; font-size: 2rem;">Apa Kata Pelanggan Kami</h2>
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 2rem; margin-bottom: 3rem;">
                    <div style="background: white; padding: 2rem; border-radius: 15px; box-shadow: var(--shadow);">
                        <div style="display: flex; align-items: center; margin-bottom: 1rem;">
                            <div style="width: 50px; height: 50px; background: var(--primary); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-weight: bold; margin-right: 1rem;">A</div>
                            <div>
                                <h4 style="margin: 0; color: var(--dark);">Ahmad Rizki</h4>
                                <div style="color: var(--accent);">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</div>
                            </div>
                        </div>
                        <p style="color: #666; font-style: italic;">"Pizza Margherita-nya enak banget! Pengiriman juga cepat, cuma 25 menit sudah sampai. Pasti order lagi!"</p>
                    </div>
                    
                    <div style="background: white; padding: 2rem; border-radius: 15px; box-shadow: var(--shadow);">
                        <div style="display: flex; align-items: center; margin-bottom: 1rem;">
                            <div style="width: 50px; height: 50px; background: var(--success); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-weight: bold; margin-right: 1rem;">S</div>
                            <div>
                                <h4 style="margin: 0; color: var(--dark);">Sari Dewi</h4>
                                <div style="color: var(--accent);">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</div>
                            </div>
                        </div>
                        <p style="color: #666; font-style: italic;">"Burger Bacon-nya juara! Dagingnya empuk dan sausnya pas banget. Harga juga reasonable untuk kualitas segini."</p>
                    </div>
                    
                    <div style="background: white; padding: 2rem; border-radius: 15px; box-shadow: var(--shadow);">
                        <div style="display: flex; align-items: center; margin-bottom: 1rem;">
                            <div style="width: 50px; height: 50px; background: var(--accent); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-weight: bold; margin-right: 1rem;">B</div>
                            <div>
                                <h4 style="margin: 0; color: var(--dark);">Budi Santoso</h4>
                                <div style="color: var(--accent);">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</div>
                            </div>
                        </div>
                        <p style="color: #666; font-style: italic;">"Aplikasinya user-friendly, pesan mudah, dan makanannya selalu fresh. Recommended banget untuk yang suka praktis!"</p>
                    </div>
                </div>

                <!-- CTA Section -->
                <div style="background: var(--light); padding: 3rem 2rem; border-radius: 20px; text-align: center;">
                    <h2 style="color: var(--dark); margin-bottom: 1rem;">Siap Memesan?</h2>
                    <p style="color: #666; margin-bottom: 2rem; font-size: 1.1rem;">Jangan tunggu lagi! Pesan makanan favorit Anda sekarang dan nikmati pengalaman kuliner terbaik.</p>
                    <button class="btn" onclick="showPage('menu')" style="font-size: 1.1rem; padding: 1rem 2rem;">üçΩÔ∏è Mulai Pesan Sekarang</button>
                </div>
            </div>
        </div>

        <!-- Menu Page -->
        <div id="menu" class="page">
            <div class="container">
                <h1 style="text-align: center; margin-bottom: 1rem; font-size: 2.5rem;">Menu Kami</h1>
                <p style="text-align: center; color: #666; margin-bottom: 3rem; font-size: 1.1rem;">Pilih dari 28+ menu lezat yang tersedia</p>
                
                <!-- Category Filter -->
                <div style="display: flex; justify-content: center; flex-wrap: wrap; gap: 1rem; margin-bottom: 3rem;">
                    <button class="filter-btn active" onclick="filterMenu('all')" style="padding: 0.75rem 1.5rem; border: 2px solid var(--primary); background: var(--primary); color: white; border-radius: 25px; cursor: pointer; transition: all 0.3s ease; font-weight: 600;">Semua Menu</button>
                    <button class="filter-btn" onclick="filterMenu('pizza')" style="padding: 0.75rem 1.5rem; border: 2px solid var(--primary); background: white; color: var(--primary); border-radius: 25px; cursor: pointer; transition: all 0.3s ease; font-weight: 600;">üçï Pizza</button>
                    <button class="filter-btn" onclick="filterMenu('burger')" style="padding: 0.75rem 1.5rem; border: 2px solid var(--primary); background: white; color: var(--primary); border-radius: 25px; cursor: pointer; transition: all 0.3s ease; font-weight: 600;">üçî Burger</button>
                    <button class="filter-btn" onclick="filterMenu('pasta')" style="padding: 0.75rem 1.5rem; border: 2px solid var(--primary); background: white; color: var(--primary); border-radius: 25px; cursor: pointer; transition: all 0.3s ease; font-weight: 600;">üçù Pasta</button>
                    <button class="filter-btn" onclick="filterMenu('salad')" style="padding: 0.75rem 1.5rem; border: 2px solid var(--primary); background: white; color: var(--primary); border-radius: 25px; cursor: pointer; transition: all 0.3s ease; font-weight: 600;">ü•ó Salad</button>
                    <button class="filter-btn" onclick="filterMenu('appetizer')" style="padding: 0.75rem 1.5rem; border: 2px solid var(--primary); background: white; color: var(--primary); border-radius: 25px; cursor: pointer; transition: all 0.3s ease; font-weight: 600;">üçó Appetizer</button>
                    <button class="filter-btn" onclick="filterMenu('dessert')" style="padding: 0.75rem 1.5rem; border: 2px solid var(--primary); background: white; color: var(--primary); border-radius: 25px; cursor: pointer; transition: all 0.3s ease; font-weight: 600;">üç∞ Dessert</button>
                    <button class="filter-btn" onclick="filterMenu('beverage')" style="padding: 0.75rem 1.5rem; border: 2px solid var(--primary); background: white; color: var(--primary); border-radius: 25px; cursor: pointer; transition: all 0.3s ease; font-weight: 600;">ü•§ Minuman</button>
                </div>

                <!-- Search Bar -->
                <div style="max-width: 500px; margin: 0 auto 3rem auto;">
                    <div style="position: relative;">
                        <input type="text" id="searchInput" placeholder="Cari menu favorit Anda..." style="width: 100%; padding: 1rem 1rem 1rem 3rem; border: 2px solid var(--light); border-radius: 25px; font-size: 1rem; transition: border-color 0.3s ease;" oninput="searchMenu(this.value)">
                        <div style="position: absolute; left: 1rem; top: 50%; transform: translateY(-50%); color: #666; font-size: 1.2rem;">üîç</div>
                    </div>
                </div>
                
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 2rem;" id="menuGrid">
                    <!-- Menu items will be populated by JavaScript -->
                </div>

                <!-- No Results Message -->
                <div id="noResults" style="display: none; text-align: center; padding: 4rem 2rem; color: #666;">
                    <div style="font-size: 4rem; margin-bottom: 1rem;">üîç</div>
                    <h3 style="margin-bottom: 1rem; color: var(--dark);">Menu Tidak Ditemukan</h3>
                    <p>Coba kata kunci lain atau pilih kategori yang berbeda</p>
                    <button class="btn" onclick="clearSearch()" style="margin-top: 1rem;">Reset Pencarian</button>
                </div>
            </div>
        </div>

        <!-- About Page -->
        <div id="about" class="page">
            <div class="container">
                <h1 style="text-align: center; margin-bottom: 2rem; font-size: 2.5rem;">Tentang FoodOrder</h1>
                
                <!-- Company Story -->
                <div style="background: white; padding: 3rem 2rem; border-radius: 20px; box-shadow: var(--shadow); margin-bottom: 3rem; text-align: center;">
                    <div style="font-size: 4rem; margin-bottom: 2rem;">üçï</div>
                    <h2 style="color: var(--dark); margin-bottom: 1.5rem;">Cerita Kami</h2>
                    <p style="color: #666; font-size: 1.1rem; line-height: 1.8; max-width: 800px; margin: 0 auto;">
                        FoodOrder didirikan pada tahun 2020 dengan misi sederhana: menghadirkan makanan berkualitas tinggi langsung ke pintu rumah Anda. 
                        Kami percaya bahwa setiap orang berhak menikmati makanan lezat tanpa harus meninggalkan kenyamanan rumah. 
                        Dengan tim chef berpengalaman dan sistem pengiriman yang efisien, kami telah melayani lebih dari 1000+ pelanggan puas di seluruh kota.
                    </p>
                </div>

                <!-- Our Values -->
                <h2 style="text-align: center; margin-bottom: 2rem; font-size: 2rem;">Nilai-Nilai Kami</h2>
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 2rem; margin-bottom: 3rem;">
                    <div style="background: white; padding: 2rem; border-radius: 15px; box-shadow: var(--shadow); text-align: center;">
                        <div style="font-size: 3rem; margin-bottom: 1rem;">üåü</div>
                        <h3 style="color: var(--dark); margin-bottom: 1rem;">Kualitas Terjamin</h3>
                        <p style="color: #666;">Kami hanya menggunakan bahan-bahan segar dan berkualitas tinggi untuk setiap hidangan yang kami sajikan.</p>
                    </div>
                    
                    <div style="background: white; padding: 2rem; border-radius: 15px; box-shadow: var(--shadow); text-align: center;">
                        <div style="font-size: 3rem; margin-bottom: 1rem;">‚ö°</div>
                        <h3 style="color: var(--dark); margin-bottom: 1rem;">Pelayanan Cepat</h3>
                        <p style="color: #666;">Komitmen kami adalah mengantarkan pesanan Anda dalam waktu maksimal 30 menit dengan kondisi masih hangat.</p>
                    </div>
                    
                    <div style="background: white; padding: 2rem; border-radius: 15px; box-shadow: var(--shadow); text-align: center;">
                        <div style="font-size: 3rem; margin-bottom: 1rem;">‚ù§Ô∏è</div>
                        <h3 style="color: var(--dark); margin-bottom: 1rem;">Kepuasan Pelanggan</h3>
                        <p style="color: #666;">Kepuasan Anda adalah prioritas utama kami. Tim customer service siap membantu 24/7.</p>
                    </div>
                </div>

                <!-- Team Section -->
                <h2 style="text-align: center; margin-bottom: 2rem; font-size: 2rem;">Tim Kami</h2>
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 2rem; margin-bottom: 3rem;">
                    <div style="background: white; padding: 2rem; border-radius: 15px; box-shadow: var(--shadow); text-align: center;">
                        <div style="width: 80px; height: 80px; background: var(--primary); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-size: 2rem; font-weight: bold; margin: 0 auto 1rem;">JD</div>
                        <h4 style="color: var(--dark); margin-bottom: 0.5rem;">John Doe</h4>
                        <p style="color: var(--primary); font-weight: 600; margin-bottom: 0.5rem;">Head Chef</p>
                        <p style="color: #666; font-size: 0.9rem;">15+ tahun pengalaman di industri kuliner internasional</p>
                    </div>
                    
                    <div style="background: white; padding: 2rem; border-radius: 15px; box-shadow: var(--shadow); text-align: center;">
                        <div style="width: 80px; height: 80px; background: var(--success); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-size: 2rem; font-weight: bold; margin: 0 auto 1rem;">AS</div>
                        <h4 style="color: var(--dark); margin-bottom: 0.5rem;">Anna Smith</h4>
                        <p style="color: var(--primary); font-weight: 600; margin-bottom: 0.5rem;">Operations Manager</p>
                        <p style="color: #666; font-size: 0.9rem;">Memastikan setiap pesanan sampai tepat waktu dan berkualitas</p>
                    </div>
                    
                    <div style="background: white; padding: 2rem; border-radius: 15px; box-shadow: var(--shadow); text-align: center;">
                        <div style="width: 80px; height: 80px; background: var(--accent); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-size: 2rem; font-weight: bold; margin: 0 auto 1rem;">MJ</div>
                        <h4 style="color: var(--dark); margin-bottom: 0.5rem;">Mike Johnson</h4>
                        <p style="color: var(--primary); font-weight: 600; margin-bottom: 0.5rem;">Customer Service Lead</p>
                        <p style="color: #666; font-size: 0.9rem;">Siap membantu Anda 24/7 untuk pengalaman terbaik</p>
                    </div>
                </div>

                <!-- Contact Info -->
                <div style="background: var(--light); padding: 3rem 2rem; border-radius: 20px; text-align: center;">
                    <h2 style="color: var(--dark); margin-bottom: 2rem;">Hubungi Kami</h2>
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 2rem; max-width: 800px; margin: 0 auto;">
                        <div>
                            <div style="font-size: 2rem; margin-bottom: 0.5rem;">üìç</div>
                            <h4 style="color: var(--dark); margin-bottom: 0.5rem;">Alamat</h4>
                            <p style="color: #666;">Jl. Kuliner No. 123<br>Jakarta Selatan, 12345</p>
                        </div>
                        
                        <div>
                            <div style="font-size: 2rem; margin-bottom: 0.5rem;">üìû</div>
                            <h4 style="color: var(--dark); margin-bottom: 0.5rem;">Telepon</h4>
                            <p style="color: #666;">+62 822-2554-4756</p>
                        </div>
                        
                        <div>
                            <div style="font-size: 2rem; margin-bottom: 0.5rem;">üìß</div>
                            <h4 style="color: var(--dark); margin-bottom: 0.5rem;">Email</h4>
                            <p style="color: #666;">info@foodorder.com</p>
                        </div>
                        
                        <div>
                            <div style="font-size: 2rem; margin-bottom: 0.5rem;">üïí</div>
                            <h4 style="color: var(--dark); margin-bottom: 0.5rem;">Jam Operasional</h4>
                            <p style="color: #666;">Setiap Hari<br>09:00 - 22:00</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Dashboard Page -->
        <div id="dashboard" class="page">
            <div class="container">
                <h1 style="text-align: center; margin-bottom: 2rem; font-size: 2.5rem;">Dashboard Pesanan</h1>
                <p style="text-align: center; color: #666; margin-bottom: 3rem; font-size: 1.1rem;">Kelola dan pantau pesanan Anda</p>
                
                <!-- Dashboard Stats -->
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 2rem; margin-bottom: 3rem;">
                    <div style="background: white; padding: 2rem; border-radius: 15px; box-shadow: var(--shadow); text-align: center;">
                        <div style="font-size: 2.5rem; color: var(--primary); font-weight: bold;" id="totalOrders">0</div>
                        <p style="color: #666; margin-top: 0.5rem;">Total Pesanan</p>
                    </div>
                    <div style="background: white; padding: 2rem; border-radius: 15px; box-shadow: var(--shadow); text-align: center;">
                        <div style="font-size: 2.5rem; color: var(--success); font-weight: bold;" id="completedOrders">0</div>
                        <p style="color: #666; margin-top: 0.5rem;">Pesanan Selesai</p>
                    </div>
                    <div style="background: white; padding: 2rem; border-radius: 15px; box-shadow: var(--shadow); text-align: center;">
                        <div style="font-size: 2.5rem; color: var(--accent); font-weight: bold;" id="pendingOrders">0</div>
                        <p style="color: #666; margin-top: 0.5rem;">Pesanan Pending</p>
                    </div>
                    <div style="background: white; padding: 2rem; border-radius: 15px; box-shadow: var(--shadow); text-align: center;">
                        <div style="font-size: 2.5rem; color: var(--danger); font-weight: bold;" id="totalSpent">Rp 0</div>
                        <p style="color: #666; margin-top: 0.5rem;">Total Pengeluaran</p>
                    </div>
                </div>

                <!-- Quick Actions -->
                <div style="background: white; padding: 2rem; border-radius: 15px; box-shadow: var(--shadow); margin-bottom: 3rem;">
                    <h3 style="margin-bottom: 1.5rem; color: var(--dark);">Aksi Cepat</h3>
                    <div style="display: flex; gap: 1rem; flex-wrap: wrap;">
                        <button class="btn" onclick="showPage('menu')" style="padding: 0.75rem 1.5rem;">üõí Pesan Lagi</button>
                        <button class="btn" onclick="clearOrderHistory()" style="background: var(--danger); padding: 0.75rem 1.5rem;">üóëÔ∏è Hapus Riwayat</button>
                        <button class="btn" onclick="exportOrders()" style="background: var(--success); padding: 0.75rem 1.5rem;">üìä Export Data</button>
                        <button class="btn" onclick="showPage('about')" style="background: var(--accent); padding: 0.75rem 1.5rem;">üìû Hubungi CS</button>
                    </div>
                </div>

                <!-- Order History -->
                <div style="background: white; padding: 2rem; border-radius: 15px; box-shadow: var(--shadow);">
                    <h3 style="margin-bottom: 1.5rem; color: var(--dark);">Riwayat Pesanan</h3>
                    <div id="orderHistory">
                        <!-- Order history will be populated by JavaScript -->
                    </div>
                </div>
            </div>
        </div>

        <!-- Cart Page -->
        <div id="cart" class="page">
            <div class="container">
                <h1 style="margin-bottom: 2rem; font-size: 2.5rem;">Keranjang Belanja</h1>
                <div style="display: grid; grid-template-columns: 2fr 1fr; gap: 2rem;">
                    <div>
                        <div id="cartItems">
                            <!-- Cart items will be populated by JavaScript -->
                        </div>
                    </div>
                    <div>
                        <div class="cart-summary">
                            <h3 style="margin-bottom: 1rem;">Ringkasan Pesanan</h3>
                            <div class="summary-row">
                                <span>Subtotal:</span>
                                <span id="subtotal">Rp 0</span>
                            </div>
                            <div class="summary-row">
                                <span>Ongkos Kirim:</span>
                                <span id="shipping">Rp 10.000</span>
                            </div>
                            <div class="summary-row total">
                                <span>Total:</span>
                                <span id="total">Rp 10.000</span>
                            </div>
                            <button class="btn" style="width: 100%; margin-top: 1rem;" onclick="proceedToCheckout()">Checkout</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Checkout Page -->
        <div id="checkout" class="page">
            <div class="container">
                <h1 style="margin-bottom: 2rem; font-size: 2.5rem;">Checkout</h1>
                <div style="display: grid; grid-template-columns: 2fr 1fr; gap: 2rem;">
                    <div>
                        <form class="checkout-form" id="checkoutForm">
                            <h3 style="margin-bottom: 1.5rem;">Informasi Pengiriman</h3>
                            
                            <div class="form-group">
                                <label for="customerName">Nama Lengkap *</label>
                                <input type="text" id="customerName" name="customerName" required>
                            </div>

                            <div class="form-group">
                                <label for="customerPhone">Nomor Telepon *</label>
                                <input type="tel" id="customerPhone" name="customerPhone" required>
                            </div>

                            <div class="form-group">
                                <label for="customerAddress">Alamat Lengkap *</label>
                                <textarea id="customerAddress" name="customerAddress" required placeholder="Masukkan alamat lengkap termasuk kode pos"></textarea>
                            </div>

                            <h3 style="margin: 2rem 0 1.5rem;">Metode Pembayaran</h3>
                            <div class="payment-methods">
                                <label class="payment-method">
                                    <input type="radio" name="paymentMethod" value="cod" required>
                                    <div>üíµ Cash on Delivery</div>
                                    <small>Bayar saat pesanan tiba</small>
                                </label>
                                <label class="payment-method">
                                    <input type="radio" name="paymentMethod" value="transfer" required>
                                    <div>üè¶ Transfer Bank</div>
                                    <small>Transfer ke rekening kami</small>
                                </label>
                                <label class="payment-method">
                                    <input type="radio" name="paymentMethod" value="ewallet" required>
                                    <div>üì± E-Wallet</div>
                                    <small>OVO, GoPay, DANA</small>
                                </label>
                            </div>

                            <button type="submit" class="btn" style="width: 100%; margin-top: 2rem;">Pesan Sekarang</button>
                        </form>
                    </div>
                    <div>
                        <div class="cart-summary">
                            <h3 style="margin-bottom: 1rem;">Ringkasan Pesanan</h3>
                            <div id="checkoutItems">
                                <!-- Checkout items will be populated by JavaScript -->
                            </div>
                            <div class="summary-row">
                                <span>Subtotal:</span>
                                <span id="checkoutSubtotal">Rp 0</span>
                            </div>
                            <div class="summary-row">
                                <span>Ongkos Kirim:</span>
                                <span id="checkoutShipping">Rp 10.000</span>
                            </div>
                            <div class="summary-row total">
                                <span>Total:</span>
                                <span id="checkoutTotal">Rp 10.000</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Loading Overlay -->
    <div class="loading" id="loading">
        <div class="spinner"></div>
    </div>

    <!-- Notification -->
    <div class="notification" id="notification"></div>

    <script>
        // Configuration - Replace these with your actual values
        const CONFIG = {
            APPS_SCRIPT_WEBHOOK_URL: '', // Leave empty for demo mode
            NGIRIMWA_API_KEY: '', // Leave empty for demo mode
            ADMIN_WHATSAPP: '082225544756' // Admin WhatsApp number
        };

        // Sample menu data - Expanded with more items
        const menuData = [
            // Pizza Category
            { id: 1, name: 'Pizza Margherita', category: 'pizza', price: 85000, image: 'https://images.unsplash.com/photo-1565299624946-b28f40a0ca4b?w=400&h=300&fit=crop', description: 'Pizza klasik dengan tomat segar, mozzarella, dan basil Italia', rating: 4.8, cookTime: '15-20 menit', isPopular: true },
            { id: 2, name: 'Pizza Pepperoni', category: 'pizza', price: 95000, image: 'https://images.unsplash.com/photo-1628840042765-356cda07504e?w=400&h=300&fit=crop', description: 'Pizza dengan pepperoni premium dan keju mozzarella', rating: 4.9, cookTime: '15-20 menit', isPopular: true },
            { id: 3, name: 'Pizza Hawaiian', category: 'pizza', price: 92000, image: 'https://images.unsplash.com/photo-1565299507177-b0ac66763828?w=400&h=300&fit=crop', description: 'Pizza dengan ham, nanas, dan keju mozzarella', rating: 4.6, cookTime: '15-20 menit' },
            { id: 4, name: 'Pizza Meat Lovers', category: 'pizza', price: 125000, image: 'https://images.unsplash.com/photo-1513104890138-7c749659a591?w=400&h=300&fit=crop', description: 'Pizza dengan pepperoni, sosis, ham, dan bacon', rating: 4.9, cookTime: '18-22 menit', isPopular: true },
            { id: 5, name: 'Pizza Vegetarian', category: 'pizza', price: 88000, image: 'https://images.unsplash.com/photo-1574071318508-1cdbab80d002?w=400&h=300&fit=crop', description: 'Pizza dengan paprika, jamur, zaitun, dan tomat', rating: 4.5, cookTime: '15-20 menit' },
            
            // Burger Category
            { id: 6, name: 'Classic Burger', category: 'burger', price: 45000, image: 'https://images.unsplash.com/photo-1568901346375-23c9450c58cd?w=400&h=300&fit=crop', description: 'Burger klasik dengan daging sapi premium dan keju cheddar', rating: 4.7, cookTime: '10-15 menit', isPopular: true },
            { id: 7, name: 'Cheese Burger', category: 'burger', price: 50000, image: 'https://images.unsplash.com/photo-1571091718767-18b5b1457add?w=400&h=300&fit=crop', description: 'Burger dengan keju cheddar ekstra yang meleleh sempurna', rating: 4.6, cookTime: '10-15 menit' },
            { id: 8, name: 'Bacon Burger', category: 'burger', price: 65000, image: 'https://images.unsplash.com/photo-1553979459-d2229ba7433a?w=400&h=300&fit=crop', description: 'Burger dengan bacon crispy dan saus BBQ', rating: 4.8, cookTime: '12-17 menit', isPopular: true },
            { id: 9, name: 'Chicken Burger', category: 'burger', price: 48000, image: 'https://images.unsplash.com/photo-1606755962773-d324e2d53352?w=400&h=300&fit=crop', description: 'Burger ayam crispy dengan mayo dan selada segar', rating: 4.5, cookTime: '10-15 menit' },
            { id: 10, name: 'Fish Burger', category: 'burger', price: 52000, image: 'https://images.unsplash.com/photo-1594212699903-ec8a3eca50f5?w=400&h=300&fit=crop', description: 'Burger ikan dengan saus tartar dan acar', rating: 4.4, cookTime: '12-17 menit' },
            
            // Pasta Category
            { id: 11, name: 'Spaghetti Carbonara', category: 'pasta', price: 55000, image: 'https://images.unsplash.com/photo-1555939594-58d7cb561ad1?w=400&h=300&fit=crop', description: 'Pasta dengan saus carbonara creamy dan bacon crispy', rating: 4.7, cookTime: '12-18 menit', isPopular: true },
            { id: 12, name: 'Spaghetti Bolognese', category: 'pasta', price: 58000, image: 'https://images.unsplash.com/photo-1551892374-ecf8754cf8b0?w=400&h=300&fit=crop', description: 'Pasta dengan saus daging sapi dan tomat Italia', rating: 4.8, cookTime: '15-20 menit', isPopular: true },
            { id: 13, name: 'Fettuccine Alfredo', category: 'pasta', price: 62000, image: 'https://images.unsplash.com/photo-1621996346565-e3dbc353d2e5?w=400&h=300&fit=crop', description: 'Pasta dengan saus krim putih dan keju parmesan', rating: 4.6, cookTime: '12-18 menit' },
            { id: 14, name: 'Penne Arrabbiata', category: 'pasta', price: 54000, image: 'https://images.unsplash.com/photo-1572441713132-51c75654db73?w=400&h=300&fit=crop', description: 'Pasta dengan saus tomat pedas dan herbs Italia', rating: 4.5, cookTime: '10-15 menit' },
            
            // Salad Category
            { id: 15, name: 'Caesar Salad', category: 'salad', price: 42000, image: 'https://images.unsplash.com/photo-1546793665-c74683f339c1?w=400&h=300&fit=crop', description: 'Salad segar dengan dressing Caesar dan crouton renyah', rating: 4.6, cookTime: '5-8 menit' },
            { id: 16, name: 'Greek Salad', category: 'salad', price: 45000, image: 'https://images.unsplash.com/photo-1540420773420-3366772f4999?w=400&h=300&fit=crop', description: 'Salad dengan feta cheese, zaitun, dan dressing lemon', rating: 4.5, cookTime: '5-8 menit' },
            { id: 17, name: 'Chicken Salad', category: 'salad', price: 48000, image: 'https://images.unsplash.com/photo-1512621776951-a57141f2eefd?w=400&h=300&fit=crop', description: 'Salad dengan ayam grilled dan sayuran segar', rating: 4.7, cookTime: '8-12 menit', isPopular: true },
            
            // Appetizer Category
            { id: 18, name: 'Chicken Wings', category: 'appetizer', price: 38000, image: 'https://images.unsplash.com/photo-1527477396000-e27163b481c2?w=400&h=300&fit=crop', description: 'Sayap ayam crispy dengan saus BBQ atau buffalo', rating: 4.8, cookTime: '12-15 menit', isPopular: true },
            { id: 19, name: 'Mozzarella Sticks', category: 'appetizer', price: 35000, image: 'https://images.unsplash.com/photo-1531749668029-2db88e4276c7?w=400&h=300&fit=crop', description: 'Keju mozzarella goreng dengan marinara sauce', rating: 4.6, cookTime: '8-10 menit' },
            { id: 20, name: 'Onion Rings', category: 'appetizer', price: 32000, image: 'https://images.unsplash.com/photo-1639024471283-03518883512d?w=400&h=300&fit=crop', description: 'Bawang bombay goreng crispy dengan ranch sauce', rating: 4.4, cookTime: '8-10 menit' },
            { id: 21, name: 'Garlic Bread', category: 'appetizer', price: 28000, image: 'https://images.unsplash.com/photo-1573140247632-f8fd74997d5c?w=400&h=300&fit=crop', description: 'Roti bawang putih dengan herbs dan keju', rating: 4.5, cookTime: '5-8 menit' },
            
            // Dessert Category
            { id: 22, name: 'Chocolate Cake', category: 'dessert', price: 35000, image: 'https://images.unsplash.com/photo-1578985545062-69928b1d9587?w=400&h=300&fit=crop', description: 'Kue coklat lembut dengan frosting coklat', rating: 4.9, cookTime: '2-3 menit', isPopular: true },
            { id: 23, name: 'Cheesecake', category: 'dessert', price: 38000, image: 'https://images.unsplash.com/photo-1533134242443-d4fd215305ad?w=400&h=300&fit=crop', description: 'Cheesecake New York dengan berry sauce', rating: 4.8, cookTime: '2-3 menit', isPopular: true },
            { id: 24, name: 'Ice Cream Sundae', category: 'dessert', price: 32000, image: 'https://images.unsplash.com/photo-1563805042-7684c019e1cb?w=400&h=300&fit=crop', description: 'Es krim vanilla dengan topping dan saus coklat', rating: 4.7, cookTime: '2-3 menit' },
            
            // Beverage Category
            { id: 25, name: 'Fresh Orange Juice', category: 'beverage', price: 18000, image: 'https://images.unsplash.com/photo-1621506289937-a8e4df240d0b?w=400&h=300&fit=crop', description: 'Jus jeruk segar tanpa gula tambahan', rating: 4.6, cookTime: '2-3 menit' },
            { id: 26, name: 'Iced Coffee', category: 'beverage', price: 22000, image: 'https://images.unsplash.com/photo-1461023058943-07fcbe16d735?w=400&h=300&fit=crop', description: 'Kopi dingin dengan es dan susu', rating: 4.7, cookTime: '3-5 menit', isPopular: true },
            { id: 27, name: 'Smoothie Bowl', category: 'beverage', price: 35000, image: 'https://images.unsplash.com/photo-1511690743698-d9d85f2fbf38?w=400&h=300&fit=crop', description: 'Smoothie buah dengan topping granola dan buah', rating: 4.8, cookTime: '5-8 menit' },
            { id: 28, name: 'Lemonade', category: 'beverage', price: 16000, image: 'https://images.unsplash.com/photo-1523371683702-af24294d2cdc?w=400&h=300&fit=crop', description: 'Lemon segar dengan mint dan soda', rating: 4.5, cookTime: '2-3 menit' }
        ];

        // Global variables
        let cart = JSON.parse(localStorage.getItem('cart')) || [];
        let orders = JSON.parse(localStorage.getItem('orders')) || [];

        // Initialize app
        document.addEventListener('DOMContentLoaded', function() {
            console.log('App initializing...');
            console.log('Initial cart:', cart);
            
            // Force update cart display
            setTimeout(() => {
                updateCartCount();
                renderMenu();
                renderPopularItems();
                updateCartDisplay();
                updateDashboard();
                console.log('App components updated');
            }, 100);
            
            // Setup form submission
            const checkoutForm = document.getElementById('checkoutForm');
            if (checkoutForm) {
                checkoutForm.addEventListener('submit', handleCheckout);
            }
            
            // Setup payment method selection
            document.querySelectorAll('input[name="paymentMethod"]').forEach(radio => {
                radio.addEventListener('change', function() {
                    document.querySelectorAll('.payment-method').forEach(method => {
                        method.classList.remove('selected');
                    });
                    this.closest('.payment-method').classList.add('selected');
                });
            });
            
            console.log('App initialized successfully');
        });

        // Navigation functions
        function showPage(pageId) {
            console.log('Showing page:', pageId);
            
            // Hide all pages
            document.querySelectorAll('.page').forEach(page => {
                page.classList.remove('active');
            });
            
            // Show selected page
            const targetPage = document.getElementById(pageId);
            if (targetPage) {
                targetPage.classList.add('active');
            }
            
            // Update navigation
            document.querySelectorAll('.nav-link').forEach(link => {
                link.classList.remove('active');
            });
            
            // Update active nav link
            const activeLink = document.querySelector(`[onclick="showPage('${pageId}')"]`);
            if (activeLink && activeLink.classList.contains('nav-link')) {
                activeLink.classList.add('active');
            }

            // Update page-specific content with delay to ensure DOM is ready
            setTimeout(() => {
                if (pageId === 'cart') {
                    console.log('Updating cart display for page navigation');
                    updateCartDisplay();
                } else if (pageId === 'checkout') {
                    console.log('Updating checkout display for page navigation');
                    updateCheckoutDisplay();
                } else if (pageId === 'dashboard') {
                    console.log('Updating dashboard for page navigation');
                    updateDashboard();
                } else if (pageId === 'home') {
                    console.log('Updating home page for page navigation');
                    renderPopularItems();
                }
            }, 50);
        }

        // Menu functions
        let currentFilter = 'all';
        let currentSearchTerm = '';

        function renderMenu(filteredData = null) {
            const menuGrid = document.getElementById('menuGrid');
            const noResults = document.getElementById('noResults');
            
            if (!menuGrid) {
                console.error('Menu grid not found');
                return;
            }
            
            let dataToRender = filteredData || menuData;
            
            // Apply current filter
            if (currentFilter !== 'all') {
                dataToRender = dataToRender.filter(item => item.category === currentFilter);
            }
            
            // Apply current search
            if (currentSearchTerm) {
                dataToRender = dataToRender.filter(item => 
                    item.name.toLowerCase().includes(currentSearchTerm.toLowerCase()) ||
                    item.description.toLowerCase().includes(currentSearchTerm.toLowerCase())
                );
            }
            
            if (dataToRender.length === 0) {
                menuGrid.style.display = 'none';
                if (noResults) noResults.style.display = 'block';
                return;
            } else {
                menuGrid.style.display = 'grid';
                if (noResults) noResults.style.display = 'none';
            }
            
            menuGrid.innerHTML = dataToRender.map(item => `
                <div class="menu-item" style="background: white; border-radius: 15px; overflow: hidden; box-shadow: var(--shadow); transition: all 0.3s ease; cursor: pointer; position: relative;" onclick="addToCart(${item.id})" onmouseover="this.style.transform='translateY(-5px)'; this.style.boxShadow='var(--shadow-lg)'" onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='var(--shadow)'">
                    ${item.isPopular ? '<div style="position: absolute; top: 10px; right: 10px; background: var(--danger); color: white; padding: 0.25rem 0.75rem; border-radius: 15px; font-size: 0.8rem; font-weight: bold; z-index: 1;">üî• Populer</div>' : ''}
                    <img src="${item.image}" alt="${item.name}" style="width: 100%; height: 200px; object-fit: cover;" onerror="this.src='data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAwIiBoZWlnaHQ9IjIwMCIgdmlld0JveD0iMCAwIDQwMCAyMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSI0MDAiIGhlaWdodD0iMjAwIiBmaWxsPSIjRjNGNEY2Ii8+CjxjaXJjbGUgY3g9IjIwMCIgY3k9IjEwMCIgcj0iNDAiIGZpbGw9IiNFNUU3RUIiLz4KPHN2Zz4K'; this.alt='Gambar tidak tersedia';">
                    <div style="padding: 1.5rem;">
                        <div style="display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 0.5rem;">
                            <h3 style="color: var(--dark); flex: 1; margin-right: 1rem;">${item.name}</h3>
                            <div style="display: flex; align-items: center; gap: 0.25rem; font-size: 0.9rem; color: var(--accent);">
                                <span>‚≠ê</span>
                                <span style="font-weight: 600;">${item.rating}</span>
                            </div>
                        </div>
                        <p style="color: #666; margin-bottom: 0.75rem; font-size: 0.9rem; line-height: 1.4;">${item.description}</p>
                        <div style="display: flex; align-items: center; gap: 1rem; margin-bottom: 1rem; font-size: 0.8rem; color: #888;">
                            <span>üïí ${item.cookTime}</span>
                            <span style="text-transform: capitalize;">üìÇ ${getCategoryName(item.category)}</span>
                        </div>
                        <div style="display: flex; justify-content: space-between; align-items: center;">
                            <span class="price">${formatCurrency(item.price)}</span>
                            <button class="btn" style="padding: 0.5rem 1rem; font-size: 0.9rem;" onclick="event.stopPropagation(); addToCart(${item.id})">
                                Tambah üõí
                            </button>
                        </div>
                    </div>
                </div>
            `).join('');
        }

        function renderPopularItems() {
            const popularContainer = document.getElementById('popularItems');
            if (!popularContainer) return;
            
            const popularItems = menuData.filter(item => item.isPopular).slice(0, 6);
            
            popularContainer.innerHTML = popularItems.map(item => `
                <div style="background: white; border-radius: 15px; overflow: hidden; box-shadow: var(--shadow); transition: all 0.3s ease; cursor: pointer;" onclick="addToCart(${item.id})" onmouseover="this.style.transform='translateY(-3px)'" onmouseout="this.style.transform='translateY(0)'">
                    <img src="${item.image}" alt="${item.name}" style="width: 100%; height: 150px; object-fit: cover;" onerror="this.src='data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAwIiBoZWlnaHQ9IjE1MCIgdmlld0JveD0iMCAwIDQwMCAxNTAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSI0MDAiIGhlaWdodD0iMTUwIiBmaWxsPSIjRjNGNEY2Ii8+CjxjaXJjbGUgY3g9IjIwMCIgY3k9Ijc1IiByPSIzMCIgZmlsbD0iI0U1RTdFQiIvPgo8L3N2Zz4K'; this.alt='Gambar tidak tersedia';">
                    <div style="padding: 1rem;">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 0.5rem;">
                            <h4 style="color: var(--dark); font-size: 1rem;">${item.name}</h4>
                            <div style="display: flex; align-items: center; gap: 0.25rem; font-size: 0.8rem; color: var(--accent);">
                                <span>‚≠ê</span>
                                <span>${item.rating}</span>
                            </div>
                        </div>
                        <div style="display: flex; justify-content: space-between; align-items: center;">
                            <span style="font-weight: bold; color: var(--primary);">${formatCurrency(item.price)}</span>
                            <button class="btn" style="padding: 0.25rem 0.75rem; font-size: 0.8rem;" onclick="event.stopPropagation(); addToCart(${item.id})">
                                + Keranjang
                            </button>
                        </div>
                    </div>
                </div>
            `).join('');
        }

        function filterMenu(category) {
            currentFilter = category;
            
            // Update filter buttons
            document.querySelectorAll('.filter-btn').forEach(btn => {
                btn.style.background = 'white';
                btn.style.color = 'var(--primary)';
                btn.classList.remove('active');
            });
            
            event.target.style.background = 'var(--primary)';
            event.target.style.color = 'white';
            event.target.classList.add('active');
            
            renderMenu();
        }

        function searchMenu(searchTerm) {
            currentSearchTerm = searchTerm;
            renderMenu();
        }

        function clearSearch() {
            currentSearchTerm = '';
            currentFilter = 'all';
            
            const searchInput = document.getElementById('searchInput');
            if (searchInput) searchInput.value = '';
            
            // Reset filter buttons
            document.querySelectorAll('.filter-btn').forEach(btn => {
                btn.style.background = 'white';
                btn.style.color = 'var(--primary)';
                btn.classList.remove('active');
            });
            
            const allBtn = document.querySelector('.filter-btn');
            if (allBtn) {
                allBtn.style.background = 'var(--primary)';
                allBtn.style.color = 'white';
                allBtn.classList.add('active');
            }
            
            renderMenu();
        }

        function getCategoryName(category) {
            const categoryMap = {
                'pizza': 'Pizza',
                'burger': 'Burger', 
                'pasta': 'Pasta',
                'salad': 'Salad',
                'appetizer': 'Appetizer',
                'dessert': 'Dessert',
                'beverage': 'Minuman'
            };
            return categoryMap[category] || category;
        }

        // Cart functions
        function updateCartCount() {
            const totalItems = cart.reduce((sum, item) => sum + item.quantity, 0);
            const cartCountElement = document.getElementById('cartCount');
            
            if (cartCountElement) {
                cartCountElement.textContent = totalItems;
                
                if (totalItems === 0) {
                    cartCountElement.style.display = 'none';
                } else {
                    cartCountElement.style.display = 'flex';
                }
            }
        }

        function addToCart(menuId) {
            console.log('Adding to cart, menuId:', menuId);
            
            const item = menuData.find(menu => menu.id === menuId);
            if (!item) {
                console.error('Menu item not found:', menuId);
                return;
            }
            
            console.log('Found menu item:', item);
            
            // Get fresh cart data
            cart = JSON.parse(localStorage.getItem('cart')) || [];
            
            // Check if item already exists in cart
            const existingItemIndex = cart.findIndex(cartItem => 
                (cartItem.menuId === menuId) || (cartItem.id === menuId)
            );
            
            if (existingItemIndex !== -1) {
                cart[existingItemIndex].quantity += 1;
                console.log('Updated existing item quantity');
            } else {
                const cartItem = {
                    id: Date.now() + Math.random(), // Ensure unique ID
                    menuId: menuId,
                    name: item.name,
                    image: item.image,
                    price: item.price,
                    quantity: 1,
                    variants: {}
                };
                
                cart.push(cartItem);
                console.log('Added new item to cart');
            }
            
            console.log('Cart after update:', cart);
            
            // Save to localStorage
            localStorage.setItem('cart', JSON.stringify(cart));
            
            // Update UI
            updateCartCount();
            
            // If we're on cart page, update display
            if (document.getElementById('cart').classList.contains('active')) {
                updateCartDisplay();
            }
            
            showNotification(`‚úÖ ${item.name} ditambahkan ke keranjang!`, 'success');
        }

        function updateCartDisplay() {
            console.log('updateCartDisplay called');
            
            // Get fresh cart data from localStorage
            cart = JSON.parse(localStorage.getItem('cart')) || [];
            console.log('Fresh cart data:', cart);
            
            const cartItems = document.getElementById('cartItems');
            
            if (!cartItems) {
                console.error('Cart items container not found');
                return;
            }
            
            if (cart.length === 0) {
                console.log('Cart is empty, showing empty state');
                cartItems.innerHTML = `
                    <div class="empty-state">
                        <div style="font-size: 4rem; margin-bottom: 1rem;">üõí</div>
                        <h3>Keranjang Kosong</h3>
                        <p>Belum ada item di keranjang Anda</p>
                        <button class="btn" onclick="showPage('menu')">Mulai Belanja</button>
                    </div>
                `;
            } else {
                console.log('Rendering cart items:', cart.length);
                try {
                    cartItems.innerHTML = cart.map((item, index) => {
                        console.log(`Rendering item ${index}:`, item);
                        
                        // Ensure item has required properties
                        const itemId = item.id || item.menuId || Date.now() + index;
                        const itemName = item.name || 'Unknown Item';
                        const itemPrice = item.price || 0;
                        const itemQuantity = item.quantity || 1;
                        const itemImage = item.image || 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iODAiIHZpZXdCb3g9IjAgMCA4MCA4MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjgwIiBmaWxsPSIjRjNGNEY2Ii8+CjxjaXJjbGUgY3g9IjQwIiBjeT0iNDAiIHI9IjE2IiBmaWxsPSIjRTVFN0VCIi8+Cjwvc3ZnPgo=';
                        
                        return `
                            <div class="cart-item">
                                <img src="${itemImage}" alt="${itemName}" onerror="this.src='data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iODAiIHZpZXdCb3g9IjAgMCA4MCA4MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjgwIiBmaWxsPSIjRjNGNEY2Ii8+CjxjaXJjbGUgY3g9IjQwIiBjeT0iNDAiIHI9IjE2IiBmaWxsPSIjRTVFN0VCIi8+Cjwvc3ZnPgo='; this.alt='Gambar tidak tersedia';">
                                <div class="cart-item-info">
                                    <h3>${itemName}</h3>
                                    ${item.variants && Object.keys(item.variants).length > 0 ? `
                                        <div class="cart-item-variants">
                                            ${Object.entries(item.variants).map(([key, value]) => `${capitalizeFirst(key)}: ${value}`).join(', ')}
                                        </div>
                                    ` : ''}
                                    <div class="price">${formatCurrency(itemPrice)}</div>
                                </div>
                                <div class="cart-item-controls">
                                    <button class="quantity-btn" onclick="updateCartItemQuantity(${itemId}, -1)">-</button>
                                    <span class="quantity-display">${itemQuantity}</span>
                                    <button class="quantity-btn" onclick="updateCartItemQuantity(${itemId}, 1)">+</button>
                                    <button class="remove-btn" onclick="removeFromCart(${itemId})">üóëÔ∏è</button>
                                </div>
                            </div>
                        `;
                    }).join('');
                    console.log('Cart items rendered successfully');
                } catch (error) {
                    console.error('Error rendering cart items:', error);
                    cartItems.innerHTML = `
                        <div class="empty-state">
                            <div style="font-size: 4rem; margin-bottom: 1rem;">‚ö†Ô∏è</div>
                            <h3>Error Loading Cart</h3>
                            <p>Terjadi kesalahan saat memuat keranjang</p>
                            <button class="btn" onclick="clearCart()">Reset Keranjang</button>
                        </div>
                    `;
                }
            }
            
            updateCartSummary();
        }

        function updateCartSummary() {
            const subtotal = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
            const shipping = cart.length > 0 ? 10000 : 0;
            const total = subtotal + shipping;
            
            const subtotalElement = document.getElementById('subtotal');
            const shippingElement = document.getElementById('shipping');
            const totalElement = document.getElementById('total');
            
            if (subtotalElement) subtotalElement.textContent = formatCurrency(subtotal);
            if (shippingElement) shippingElement.textContent = formatCurrency(shipping);
            if (totalElement) totalElement.textContent = formatCurrency(total);
        }

        function updateCartItemQuantity(itemId, change) {
            const item = cart.find(cartItem => cartItem.id === itemId);
            if (!item) return;
            
            item.quantity += change;
            if (item.quantity <= 0) {
                removeFromCart(itemId);
                return;
            }
            
            localStorage.setItem('cart', JSON.stringify(cart));
            updateCartCount();
            updateCartDisplay();
        }

        function removeFromCart(itemId) {
            cart = cart.filter(item => item.id !== itemId);
            localStorage.setItem('cart', JSON.stringify(cart));
            updateCartCount();
            updateCartDisplay();
            showNotification('Item berhasil dihapus dari keranjang', 'success');
        }

        function proceedToCheckout() {
            if (cart.length === 0) {
                showNotification('Keranjang kosong! Tambahkan item terlebih dahulu.', 'error');
                return;
            }
            showPage('checkout');
        }

        // Checkout functions
        function updateCheckoutDisplay() {
            const checkoutItems = document.getElementById('checkoutItems');
            
            if (checkoutItems) {
                checkoutItems.innerHTML = cart.map(item => `
                    <div style="display: flex; justify-content: space-between; margin-bottom: 0.5rem; font-size: 0.9rem;">
                        <span>${item.name} x${item.quantity}</span>
                        <span>${formatCurrency(item.price * item.quantity)}</span>
                    </div>
                `).join('');
            }
            
            const subtotal = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
            const shipping = 10000;
            const total = subtotal + shipping;
            
            const checkoutSubtotalElement = document.getElementById('checkoutSubtotal');
            const checkoutShippingElement = document.getElementById('checkoutShipping');
            const checkoutTotalElement = document.getElementById('checkoutTotal');
            
            if (checkoutSubtotalElement) checkoutSubtotalElement.textContent = formatCurrency(subtotal);
            if (checkoutShippingElement) checkoutShippingElement.textContent = formatCurrency(shipping);
            if (checkoutTotalElement) checkoutTotalElement.textContent = formatCurrency(total);
        }

        async function handleCheckout(event) {
            event.preventDefault();
            
            console.log('Checkout started');
            
            // Get fresh cart data
            cart = JSON.parse(localStorage.getItem('cart')) || [];
            console.log('Cart for checkout:', cart);
            
            if (cart.length === 0) {
                showNotification('Keranjang kosong! Tambahkan item terlebih dahulu.', 'error');
                return;
            }
            
            const formData = new FormData(event.target);
            const orderData = {
                order_id: generateOrderId(),
                timestamp: new Date().toISOString(),
                customer_name: formData.get('customerName'),
                customer_phone: formData.get('customerPhone'),
                customer_address: formData.get('customerAddress'),
                payment_method: formData.get('paymentMethod'),
                items: cart.map(item => ({
                    id: item.menuId || item.id,
                    name: item.name,
                    variants: item.variants || {},
                    quantity: item.quantity,
                    price: item.price,
                    total: item.price * item.quantity
                })),
                subtotal: cart.reduce((sum, item) => sum + (item.price * item.quantity), 0),
                shipping: 10000,
                total: cart.reduce((sum, item) => sum + (item.price * item.quantity), 0) + 10000,
                status: 'pending'
            };
            
            console.log('Order data prepared:', orderData);
            
            showLoading(true);
            
            try {
                // Always save order locally first
                const existingOrders = JSON.parse(localStorage.getItem('orders')) || [];
                existingOrders.push(orderData);
                localStorage.setItem('orders', JSON.stringify(existingOrders));
                console.log('Order saved locally');
                
                // Try to send to Google Apps Script if configured
                if (CONFIG.APPS_SCRIPT_WEBHOOK_URL && CONFIG.APPS_SCRIPT_WEBHOOK_URL.trim() !== '') {
                    try {
                        console.log('Sending to Apps Script...');
                        const response = await fetch(CONFIG.APPS_SCRIPT_WEBHOOK_URL, {
                            method: 'POST',
                            headers: {
                                'Content-Type': 'application/json',
                            },
                            body: JSON.stringify(orderData)
                        });
                        
                        if (response.ok) {
                            const result = await response.json();
                            console.log('Apps Script response:', result);
                        }
                    } catch (apiError) {
                        console.log('Apps Script not available, using fallback:', apiError);
                    }
                }
                
                // Clear cart
                cart = [];
                localStorage.setItem('cart', JSON.stringify(cart));
                updateCartCount();
                console.log('Cart cleared');
                
                // Hide loading first
                showLoading(false);
                
                // Show success notification
                showNotification(`üéâ Pesanan berhasil dibuat!\nOrder ID: ${orderData.order_id}\nTotal: ${formatCurrency(orderData.total)}`, 'success');
                
                // Reset form
                event.target.reset();
                document.querySelectorAll('.payment-method').forEach(method => {
                    method.classList.remove('selected');
                });
                
                // Open WhatsApp after a short delay
                setTimeout(() => {
                    openWhatsAppFallback(orderData);
                    showPage('home');
                }, 2000);
                
            } catch (error) {
                console.error('Checkout error:', error);
                
                // Hide loading
                showLoading(false);
                
                // Still process the order locally
                const existingOrders = JSON.parse(localStorage.getItem('orders')) || [];
                if (!existingOrders.find(o => o.order_id === orderData.order_id)) {
                    existingOrders.push(orderData);
                    localStorage.setItem('orders', JSON.stringify(existingOrders));
                }
                
                // Clear cart
                cart = [];
                localStorage.setItem('cart', JSON.stringify(cart));
                updateCartCount();
                
                // Show success notification anyway
                showNotification(`‚úÖ Pesanan berhasil dibuat!\nOrder ID: ${orderData.order_id}`, 'success');
                
                // Reset form
                event.target.reset();
                document.querySelectorAll('.payment-method').forEach(method => {
                    method.classList.remove('selected');
                });
                
                // Open WhatsApp as fallback
                setTimeout(() => {
                    openWhatsAppFallback(orderData);
                    showPage('home');
                }, 2000);
            }
        }

        function openWhatsAppFallback(orderData) {
            const message = `üçï PESANAN BARU üçï

Order ID: ${orderData.order_id}
Nama: ${orderData.customer_name}
Telepon: ${orderData.customer_phone}
Alamat: ${orderData.customer_address}

DETAIL PESANAN:
${orderData.items.map(item => `‚Ä¢ ${item.name} (${item.quantity}x) - ${formatCurrency(item.total)}`).join('\n')}

Subtotal: ${formatCurrency(orderData.subtotal)}
Ongkir: ${formatCurrency(orderData.shipping)}
TOTAL: ${formatCurrency(orderData.total)}

Pembayaran: ${getPaymentMethodText(orderData.payment_method)}
Waktu: ${new Date(orderData.timestamp).toLocaleString('id-ID')}`;
            
            const encodedMessage = encodeURIComponent(message);
            const whatsappUrl = `https://wa.me/62${CONFIG.ADMIN_WHATSAPP.replace(/^0/, '')}?text=${encodedMessage}`;
            
            window.open(whatsappUrl, '_blank', 'noopener,noreferrer');
        }

        // Utility functions
        function formatCurrency(amount) {
            return new Intl.NumberFormat('id-ID', {
                style: 'currency',
                currency: 'IDR',
                minimumFractionDigits: 0
            }).format(amount);
        }

        function capitalizeFirst(str) {
            return str.charAt(0).toUpperCase() + str.slice(1);
        }

        function generateOrderId() {
            const timestamp = Date.now().toString();
            const random = Math.random().toString(36).substr(2, 5).toUpperCase();
            return `ORD-${timestamp.slice(-6)}-${random}`;
        }

        function getPaymentMethodText(method) {
            const methodMap = {
                'cod': 'Cash on Delivery (COD)',
                'transfer': 'Transfer Bank',
                'ewallet': 'E-Wallet (OVO/GoPay/DANA)'
            };
            
            return methodMap[method] || method;
        }

        function showLoading(show) {
            const loading = document.getElementById('loading');
            if (loading) {
                if (show) {
                    loading.classList.add('show');
                } else {
                    loading.classList.remove('show');
                }
            }
        }

        function showNotification(message, type = 'success') {
            const notification = document.getElementById('notification');
            if (notification) {
                // Handle multiline messages
                if (message.includes('\n')) {
                    notification.innerHTML = message.replace(/\n/g, '<br>');
                } else {
                    notification.textContent = message;
                }
                notification.className = `notification ${type}`;
                notification.classList.add('show');
                
                setTimeout(() => {
                    notification.classList.remove('show');
                }, 5000);
            }
        }

        function clearCart() {
            cart = [];
            localStorage.setItem('cart', JSON.stringify(cart));
            updateCartCount();
            updateCartDisplay();
            showNotification('Keranjang berhasil dikosongkan', 'success');
        }

        // Dashboard functions
        function updateDashboard() {
            const orders = JSON.parse(localStorage.getItem('orders')) || [];
            
            // Update stats
            const totalOrdersElement = document.getElementById('totalOrders');
            const completedOrdersElement = document.getElementById('completedOrders');
            const pendingOrdersElement = document.getElementById('pendingOrders');
            const totalSpentElement = document.getElementById('totalSpent');
            
            if (totalOrdersElement) totalOrdersElement.textContent = orders.length;
            
            const completedOrders = orders.filter(order => order.status === 'completed').length;
            const pendingOrders = orders.filter(order => order.status === 'pending').length;
            const totalSpent = orders.reduce((sum, order) => sum + order.total, 0);
            
            if (completedOrdersElement) completedOrdersElement.textContent = completedOrders;
            if (pendingOrdersElement) pendingOrdersElement.textContent = pendingOrders;
            if (totalSpentElement) totalSpentElement.textContent = formatCurrency(totalSpent);
            
            // Update order history
            updateOrderHistory();
        }

        function updateOrderHistory() {
            const orderHistoryContainer = document.getElementById('orderHistory');
            if (!orderHistoryContainer) return;
            
            const orders = JSON.parse(localStorage.getItem('orders')) || [];
            
            if (orders.length === 0) {
                orderHistoryContainer.innerHTML = `
                    <div style="text-align: center; padding: 3rem 2rem; color: #666;">
                        <div style="font-size: 4rem; margin-bottom: 1rem;">üìã</div>
                        <h3 style="margin-bottom: 1rem; color: var(--dark);">Belum Ada Pesanan</h3>
                        <p>Anda belum pernah melakukan pesanan. Mulai pesan sekarang!</p>
                        <button class="btn" onclick="showPage('menu')" style="margin-top: 1rem;">üõí Mulai Pesan</button>
                    </div>
                `;
                return;
            }
            
            // Sort orders by timestamp (newest first)
            const sortedOrders = orders.sort((a, b) => new Date(b.timestamp) - new Date(a.timestamp));
            
            orderHistoryContainer.innerHTML = sortedOrders.map(order => `
                <div style="border: 2px solid var(--light); border-radius: 10px; padding: 1.5rem; margin-bottom: 1rem; transition: all 0.3s ease;" onmouseover="this.style.borderColor='var(--primary)'" onmouseout="this.style.borderColor='var(--light)'">
                    <div style="display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 1rem;">
                        <div>
                            <h4 style="color: var(--dark); margin-bottom: 0.5rem;">Order #${order.order_id}</h4>
                            <p style="color: #666; font-size: 0.9rem;">${new Date(order.timestamp).toLocaleString('id-ID')}</p>
                        </div>
                        <div style="text-align: right;">
                            <div style="background: ${order.status === 'completed' ? 'var(--success)' : 'var(--accent)'}; color: white; padding: 0.25rem 0.75rem; border-radius: 15px; font-size: 0.8rem; font-weight: bold; margin-bottom: 0.5rem;">
                                ${order.status === 'completed' ? '‚úÖ Selesai' : '‚è≥ Pending'}
                            </div>
                            <div style="font-weight: bold; color: var(--primary);">${formatCurrency(order.total)}</div>
                        </div>
                    </div>
                    
                    <div style="margin-bottom: 1rem;">
                        <h5 style="color: var(--dark); margin-bottom: 0.5rem;">Items:</h5>
                        <div style="display: flex; flex-wrap: wrap; gap: 0.5rem;">
                            ${order.items.map(item => `
                                <span style="background: var(--light); padding: 0.25rem 0.75rem; border-radius: 15px; font-size: 0.8rem; color: var(--dark);">
                                    ${item.name} (${item.quantity}x)
                                </span>
                            `).join('')}
                        </div>
                    </div>
                    
                    <div style="display: flex; gap: 1rem; flex-wrap: wrap;">
                        <button class="btn" onclick="reorderItems('${order.order_id}')" style="padding: 0.5rem 1rem; font-size: 0.8rem; background: var(--success);">üîÑ Pesan Lagi</button>
                        <button class="btn" onclick="viewOrderDetails('${order.order_id}')" style="padding: 0.5rem 1rem; font-size: 0.8rem; background: var(--accent);">üëÅÔ∏è Detail</button>
                        ${order.status === 'pending' ? `<button class="btn" onclick="markAsCompleted('${order.order_id}')" style="padding: 0.5rem 1rem; font-size: 0.8rem; background: var(--primary);">‚úÖ Tandai Selesai</button>` : ''}
                    </div>
                </div>
            `).join('');
        }

        function clearOrderHistory() {
            if (confirm('Apakah Anda yakin ingin menghapus semua riwayat pesanan? Tindakan ini tidak dapat dibatalkan.')) {
                localStorage.setItem('orders', JSON.stringify([]));
                updateDashboard();
                showNotification('Riwayat pesanan berhasil dihapus', 'success');
            }
        }

        function exportOrders() {
            const orders = JSON.parse(localStorage.getItem('orders')) || [];
            
            if (orders.length === 0) {
                showNotification('Tidak ada data pesanan untuk diekspor', 'error');
                return;
            }
            
            // Create CSV content
            let csvContent = "Order ID,Tanggal,Nama,Telepon,Alamat,Items,Total,Status\n";
            
            orders.forEach(order => {
                const itemsText = order.items.map(item => `${item.name} (${item.quantity}x)`).join('; ');
                const row = [
                    order.order_id,
                    new Date(order.timestamp).toLocaleString('id-ID'),
                    order.customer_name,
                    order.customer_phone,
                    order.customer_address.replace(/,/g, ';'),
                    itemsText,
                    order.total,
                    order.status
                ].join(',');
                csvContent += row + "\n";
            });
            
            // Create and download file
            const blob = new Blob([csvContent], { type: 'text/csv;charset=utf-8;' });
            const link = document.createElement('a');
            const url = URL.createObjectURL(blob);
            link.setAttribute('href', url);
            link.setAttribute('download', `foodorder_history_${new Date().toISOString().split('T')[0]}.csv`);
            link.style.visibility = 'hidden';
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
            
            showNotification('Data pesanan berhasil diekspor', 'success');
        }

        function reorderItems(orderId) {
            const orders = JSON.parse(localStorage.getItem('orders')) || [];
            const order = orders.find(o => o.order_id === orderId);
            
            if (!order) {
                showNotification('Pesanan tidak ditemukan', 'error');
                return;
            }
            
            // Add items to cart
            order.items.forEach(orderItem => {
                const menuItem = menuData.find(m => m.id === orderItem.id);
                if (menuItem) {
                    for (let i = 0; i < orderItem.quantity; i++) {
                        addToCart(menuItem.id);
                    }
                }
            });
            
            showNotification(`${order.items.length} item berhasil ditambahkan ke keranjang`, 'success');
            showPage('cart');
        }

        function viewOrderDetails(orderId) {
            const orders = JSON.parse(localStorage.getItem('orders')) || [];
            const order = orders.find(o => o.order_id === orderId);
            
            if (!order) {
                showNotification('Pesanan tidak ditemukan', 'error');
                return;
            }
            
            const details = `
üìã DETAIL PESANAN

Order ID: ${order.order_id}
Tanggal: ${new Date(order.timestamp).toLocaleString('id-ID')}
Status: ${order.status === 'completed' ? 'Selesai' : 'Pending'}

üë§ INFORMASI PELANGGAN:
Nama: ${order.customer_name}
Telepon: ${order.customer_phone}
Alamat: ${order.customer_address}

üçΩÔ∏è DETAIL PESANAN:
${order.items.map(item => `‚Ä¢ ${item.name} (${item.quantity}x) - ${formatCurrency(item.total)}`).join('\n')}

üí∞ RINGKASAN:
Subtotal: ${formatCurrency(order.subtotal)}
Ongkir: ${formatCurrency(order.shipping)}
TOTAL: ${formatCurrency(order.total)}

üí≥ Pembayaran: ${getPaymentMethodText(order.payment_method)}
            `;
            
            alert(details);
        }

        function markAsCompleted(orderId) {
            const orders = JSON.parse(localStorage.getItem('orders')) || [];
            const orderIndex = orders.findIndex(o => o.order_id === orderId);
            
            if (orderIndex === -1) {
                showNotification('Pesanan tidak ditemukan', 'error');
                return;
            }
            
            orders[orderIndex].status = 'completed';
            localStorage.setItem('orders', JSON.stringify(orders));
            updateDashboard();
            showNotification('Pesanan berhasil ditandai sebagai selesai', 'success');
        }
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9891d42c951efd89',t:'MTc1OTU1MTAxOS4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
